<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Clicker Game</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">

    <script>
        // Immediately apply dark mode based on the user's preference (rendered from Flask)
        document.addEventListener('DOMContentLoaded', function() {
            // Check if dark mode is enabled (passed from the server)
            const darkModeEnabled = "{{ 'true' if user_data.preferences.get('darkMode', False) else 'false' }}" === 'true';

            // Apply dark mode class instantly
            if (darkModeEnabled) {
                document.body.classList.add("dark-mode");
            }
        });
    </script>
</head>
<body>
    <h1>Clicker Game</h1>
    <div id="game-container">
        <!-- Display the points and game info -->
        <div class="info">Points: <span id="points">0</span></div>
        <div class="info">Points per click: <span id="points-per-click">1</span></div>
        <div class="info">Auto-clicker rate: <span id="auto-clicker-rate">0</span> points/sec</div>
        <div class="info">Prestige Level: <span id="prestige-level">0</span></div>

        <!-- Game buttons for interactions -->
        <button id="clicker-btn">Click Me!</button>
        
        <!-- Upgrade, auto-clicker, boost, prestige, and reset buttons -->
        <div class="container">
            <button id="upgrade-btn" title="Increase points per click. Cost increases with each upgrade.">
                Upgrade Clicker (Cost: 10 Points)
            </button>
            <button id="auto-click-btn" title="Buy an auto-clicker that generates points automatically every second.">
                Buy Auto-Clicker (Cost: 50 Points)
            </button>
            <button id="boost-btn" title="Activate a temporary boost that doubles all points earned for 10 seconds.">
                Activate Boost (Cost: 100 Points)
            </button>
            <button id="prestige-btn" title="Reset your progress to gain a Prestige level, which increases points per click.">
                Prestige (Cost: 1000 Points)
            </button>
            <button id="reset-btn" title="Reset the game to start over.">
                Reset Game
            </button>
        </div>

        <!-- Dark mode toggle -->
        <button id="dark-mode-toggle">Switch to Dark Mode</button>
    </div>

    <!-- Load the external script -->
    <script src="{{ url_for('static', filename='js/script.js') }}"></script>
</body>
</html>
